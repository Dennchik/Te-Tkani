(()=>{"use strict";document.querySelector(".page__header"),document.querySelectorAll(".burger-button"),document.querySelector(".header__button-search"),document.querySelector(".page__sidebar-catalog"),document.querySelector(".page__buttom-menu"),document.querySelector(".sidebar-search__icon-cancel"),document.querySelectorAll(".menu-catalog__parent-menu"),document.querySelector(".menu-catalog"),document.querySelector(".catalog__categories"),document.querySelectorAll(".submenu-parent");!function(){var e=document.querySelectorAll("[data-quantity]"),t=document.querySelectorAll(".product-price");function r(){var e=0;t.forEach((function(t){var r=document.querySelector(".input-total"),c=(parseFloat(t.textContent.replace(/ /g,"").replace(",","."))||0)*(parseFloat(t.closest(".product-cart").querySelector("input").value)||1);e+=c,t.closest(".product-cart").querySelector(".product-cart__quantity-price").textContent=c.toLocaleString("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}),r.innerHTML=e.toLocaleString()+'<i class="icon-rub"></i>'}))}e&&e.forEach((function(e){var t=!1;e.addEventListener("click",(function(e){var c=e.target;if(console.log(c),c.closest(".quantity__button")){var n=c.closest(".quantity").querySelector("input"),a=parseFloat(n.value)||0;c.classList.contains("quantity-add")?a+=1:c.classList.contains("quantity-remove")&&(a-=1),a=Math.max(.1,parseFloat(a.toFixed(2))),n.value=a.toFixed(2),a<=.1?function(e){e.closest(".quantity").querySelector(".quantity-remove").classList.add("_disabled")}(n):function(e){e.closest(".quantity").querySelector(".quantity-remove").classList.remove("_disabled")}(n),r(),t=!1}}));var c=e.querySelector("input");c.addEventListener("input",(function(e){var r=c.selectionStart;if(this.value=this.value.replace(/[^0-9.]/g,""),(this.value.match(/\./g)||[]).length>1){var n=this.value.lastIndexOf("."),a=Math.max(r,n),o=Math.min(r,n);this.value=this.value.slice(0,o)+this.value.slice(o+1,a)+this.value.slice(a+1),r--}else this.value.includes(".")&&!t&&(r++,t=!0);c.setSelectionRange(r,r)})),c.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),r())}));var n=document.createElement("span");n.textContent=" Ð¼",n.style.marginLeft="-5px",c.parentNode.appendChild(n)})),r()}(),document.querySelector(".order-place__form-button").addEventListener("click",(function(){document.querySelector(".send-order");var e=document.querySelector(".order-place").cloneNode(!0),t=document.querySelector(".send-order__order-place");t.innerHTML="",t.appendChild(e),t.classList.add("place-order")}))})();